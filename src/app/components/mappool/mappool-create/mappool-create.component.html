<h3>Mappool description</h3>
<p>This will be the header of the mappool. It is used to identify the mappools more easily.</p>

<input type="text" class="form-control" placeholder="Mappool description" [(ngModel)]="creationMappool.name" />

<hr />

<h3>Mod brackets</h3>
<p>Because mod brackets can vary in various mod combinations and size, you are able to customize your own mod bracket. Fill in the name of the bracket</p>

<button class="btn btn-primary" (click)="createNewBracket()">Create new bracket</button>

<hr />

<div class="mod-bracket shadow" *ngFor="let bracket of creationMappool.getAllBrackets()">
    <h3 *ngIf="bracket.bracketName">{{ bracket.bracketName }}</h3>
    <h3 *ngIf="!bracket.bracketName">Unnamed bracket</h3>
    <p>Enter the name of the bracket to get started.</p>
    <input type="text" class="form-control" [(ngModel)]="bracket.bracketName" />

    <hr />

    <h3>Mods</h3>
    <p>
        Select the mods you want to add to this bracket when selecting a map. <br />
        <b>Note:</b> If you leave the mods empty, it will be considered as Nomod. <br />
        <b>Format:</b> <code>!mp mods nomod</code>
    </p>

    <input type="text" class="form-control" [(ngModel)]="bracket.mods" />

    <hr />

    <h3>Beatmaps</h3>
    <p>Here you can select all the beatmaps you'd like to add to this specific bracket. Make sure to validate them so you know you're adding the correct beatmap!</p>

    <button class="btn btn-primary mb-2" (click)="addBeatmap(bracket)">Add new beatmap</button>
    
    <div class="beatmaps">
        <div class="beatmap" *ngFor="let beatmap of bracket.getBeatmaps()">
            <div class="row">
                <div class="col-4">
                    <input type="text" class="form-control" [(ngModel)]="beatmap.beatmapId" placeholder="Beatmap id" />
                </div>

                <div class="col-6">
                    <a [routerLink]="" (click)="electronService.openLink('https://osu.ppy.sh/beatmapsets/461966#osu/1024483')">Mami Kawada - Contrail ~Kiseki~ (Epsilon Remix) [Taeyang's Miracle]</a>
                </div>

                <div class="col">
                    <button class="btn btn-primary" (click)="synchronizeBeatmap(bracket, beatmap)"><fa-icon [icon]="['fas', 'sync']"></fa-icon></button>
                    <button class="btn btn-danger" (click)="removeBeatmap(bracket, beatmap)"><fa-icon [icon]="['fas', 'times']"></fa-icon></button>
                </div>
            </div>
        </div>
    </div>
</div>